<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:bop2="http://www.fanuc.co.jp/develop/mmc/bop2">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>cnc_rdcommand</title>
      <link rel="stylesheet" type="text/css" href="../fwlib32.css">
   </head>
   <body bgcolor="#FFFFFF"><FONT face="Verdana,Arial,Helvetica,sans-serif"><a name="Function Name"></a><p class="ftitle">cnc_rdcommand</p>
         <div class="text"><a name="Declaration"></a><p class="label">Declaration</p>
            <div class="mth">#include "fwlib32.h" or "fwlib64.h"
               <p></p>
               <prottype>
                  FWLIBAPI short WINAPI cnc_rdcommand(unsigned short FlibHndl, short type, short block,
                  short *num_cmd, ODBCMD *command);
                  </prottype>
            </div><a name="Description"></a><p class="label">Description</p>
            <cmn>
               Reads the commanded data of CNC. Various information is stored in each member of ODBCMD.
               
               <p></p>
               The readable data are the modal data except G code, and the commanded data. 
               <p></p>
               This function cannot be used for Series 15, 16i/18i/21i, 0i-A/B/C and Power Mate i,
               so use <a href="Misc/cnc_modal.htm" target="_parent">cnc_modal</a> function instead of cnc_rdcommand function. 
               <p></p>
               </cmn><a name="Arguments"></a><p class="label">Arguments</p>
            <div class="dtarg">
               <name>FlibHndl</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Specify the library handle. See "<a href="handle.htm" target="_parent">Library handle</a>" for details.
                     </p>
                  </content>
            </div>
            <div class="dtarg">
               <name>type</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>Specify the commanded data.</p>
                  
                  <table class="dd">
                     
                     <tr> 
                        <td valign="top">0 to 29   </td> 
                        <td>:</td> 
                        <td valign="top">Read modal data except G code one by one.         </td> </tr>
                     
                     <tr> 
                        <td valign="top">-1        </td> 
                        <td>:</td> 
                        <td valign="top">Read all modal data except G code at a time.      </td> </tr>
                     
                     <tr> 
                        <td valign="top">100 to 129</td> 
                        <td>:</td> 
                        <td valign="top">Read commanded data one by one.                   </td> </tr>
                     
                     <tr> 
                        <td valign="top">-2        </td> 
                        <td>:</td> 
                        <td valign="top">Read all commanded data at a time.                </td> </tr>
                     
                     <tr> 
                        <td valign="top">200 to 223</td> 
                        <td>:</td> 
                        <td valign="top">Read commanded data concerning axis one by one.   </td> </tr>
                     
                     <tr> 
                        <td valign="top">-3        </td> 
                        <td>:</td> 
                        <td valign="top">Read all commanded data concerning axis at a time.</td> </tr>
                     </table>
                  </content>
            </div>
            <div class="dtarg">
               <name>block</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Specify the block to be read.
                     </p>
                  
                  <table class="dd">
                     
                     <tr>
                        <td valign="top">0</td>
                        <td valign="top">:</td>
                        <td>previous block</td>
                     </tr>
                     
                     <tr>
                        <td valign="top">1</td>
                        <td valign="top">:</td>
                        <td>active block  </td>
                     </tr>
                     
                     <tr>
                        <td valign="top">2</td>
                        <td valign="top">:</td>
                        <td>next block    </td>
                     </tr>
                     </table>
                  </content>
            </div>
            <div class="dtarg">
               <name>num_cmd</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in/out</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Pointer to the number of commanded data to be read. Specify the number of commanded
                     data to be read before function call, and the number of commanded data which was/were
                     read actually is stored after the function call.
                     </p>
                  
                  </content>
            </div>
            <div class="dtarg">
               <name>command</name>
               &nbsp;&nbsp;[&nbsp;
               <type>out</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Specify the address of the array of ODBCMD structure including the commanded data.
                     The number of array must be 1 for reading data one by one. The number of array must
                     be the number of commanded data to be read (*num_cmd) for reading all data at a time.
                     </p>
                  The ODBCMD structure is as follows.
                  
                  <pre>
typedef struct odbcmd {
    char  adrs ;          /* command address */
    char  num ;           /* M code number or axis number */
    short flag ;          /* additional information */
    long  cmd_val ;       /* commanded data */
    long  dec_val ;       /* decimal point of commanded data */
} ODBCMD ;
</pre>
                  
                  <p>Refer to the following explanation about the ODBCMD structure.</p>
                  
                  <p class="label">(1) Reading the modal data except G code</p>
                  
                  <ul>
                     
                     <p>
                        The readable modal data are commanded data D, E, F, H, L, M, N, O, S, T, and second
                        auxiliary function (A, B, C, U, V, or W). 
                        </p>
                     
                     <li type="square">Reading data one by one<br></li>
                     
                     <div>
                        
                        <p>Specify <b>1</b> for "num_cmd". Specify the commanded address in the following table for "type". Specify
                           the block to be read for "block". Then modal data except G code in the objective block
                           specified by "block" is set in the ODBCMD structure.</p>
                        
                        
                        <table border="1" rules="groups">
                           
                           <colgroup>
                              
                              <colgroup>
                                 
                                 <colgroup>
                                    
                                    <colgroup>
                                       
                                       <thead>
                                          
                                          <tr> 
                                             <th>type</th>    
                                             <th>commanded address</th>        
                                             <th>type</th>    
                                             <th>commanded address</th>    </tr>
                                          </thead>
                                       
                                       <tbody>
                                          
                                          <tr> 
                                             <td>0 </td> 
                                             <td>A (2nd auxiliary function)</td> 
                                             <td>15</td> 
                                             <td>P (not used)   </td> </tr>
                                          
                                          <tr> 
                                             <td>1 </td> 
                                             <td>B (2nd auxiliary function)</td> 
                                             <td>16</td> 
                                             <td>Q (not used)   </td> </tr>
                                          
                                          <tr> 
                                             <td>2 </td> 
                                             <td>C (2nd auxiliary function)</td> 
                                             <td>17</td> 
                                             <td>R (not used)   </td> </tr>
                                          
                                          <tr> 
                                             <td>3 </td> 
                                             <td>D              </td> 
                                             <td>18</td> 
                                             <td>S              </td> </tr>
                                          
                                          <tr> 
                                             <td>4 </td> 
                                             <td>E              </td> 
                                             <td>19</td> 
                                             <td>T              </td> </tr>
                                          
                                          <tr> 
                                             <td>5 </td> 
                                             <td>F              </td> 
                                             <td>20</td> 
                                             <td>U (2nd auxiliary function)</td> </tr>
                                          
                                          <tr> 
                                             <td>6 </td> 
                                             <td>G (not used)   </td> 
                                             <td>21</td> 
                                             <td>V (2nd auxiliary function)</td> </tr>
                                          
                                          <tr> 
                                             <td>7 </td> 
                                             <td>H              </td> 
                                             <td>22</td> 
                                             <td>W (2nd auxiliary function)</td> </tr>
                                          
                                          <tr> 
                                             <td>8 </td> 
                                             <td>I (not used)   </td> 
                                             <td>23</td> 
                                             <td>X (not used)   </td> </tr>
                                          
                                          <tr> 
                                             <td>9 </td> 
                                             <td>J (not used)   </td> 
                                             <td>24</td> 
                                             <td>Y (not used)   </td> </tr>
                                          
                                          <tr> 
                                             <td>10</td> 
                                             <td>K (not used)   </td> 
                                             <td>25</td> 
                                             <td>Z (not used)   </td> </tr>
                                          
                                          <tr> 
                                             <td>11</td> 
                                             <td>L              </td> 
                                             <td>26</td> 
                                             <td>M (2nd M code) </td> </tr>
                                          
                                          <tr> 
                                             <td>12</td> 
                                             <td>M              </td> 
                                             <td>27</td> 
                                             <td>M (3rd M code) </td> </tr>
                                          
                                          <tr> 
                                             <td>13</td> 
                                             <td>N              </td> 
                                             <td>28</td> 
                                             <td>M (4th M code) </td> </tr>
                                          
                                          <tr> 
                                             <td>14</td> 
                                             <td>O              </td> 
                                             <td>29</td> 
                                             <td>M (5th M code) </td> </tr>
                                          </tbody>
                                       </colgroup>
                                    </colgroup>
                                 </colgroup>
                              </colgroup>
                           </table>
                        
                        <p>The following data are set in the ODBCMD structure.</p>
                        
                        <dl>
                           
                           <dt>adrs</dt>
                           
                           <dd>The commanded address is stored in ASCII code.</dd>
                           
                           <dt>num</dt>
                           
                           <dd>The following values are stored when "adrs" is M (=77).</dd>
                           
                           <ul>
                              
                              <table class="dd">
                                 
                                 <tr> 
                                    <td valign="top">1</td>    
                                    <td valign="top">:</td>    
                                    <td valign="top">1st M code</td>    </tr>
                                 
                                 <tr> 
                                    <td valign="top">2</td>    
                                    <td valign="top">:</td>    
                                    <td valign="top">2nd M code</td>    </tr>
                                 
                                 <tr> 
                                    <td valign="top">3</td>    
                                    <td valign="top">:</td>    
                                    <td valign="top">3rd M code</td>    </tr>
                                 
                                 <tr> 
                                    <td valign="top">4</td>    
                                    <td valign="top">:</td>    
                                    <td valign="top">4th M code</td>    </tr>
                                 
                                 <tr> 
                                    <td valign="top">5</td>    
                                    <td valign="top">:</td>    
                                    <td valign="top">5th M code</td>    </tr>
                                 </table>
                              </ul>
                           
                           <dt>flag</dt>
                           
                           <dd>The following flags are stored.</dd>
                           
                           <ul>
                              
                              <table class="dd">
                                 
                                 <tr> 
                                    <td valign="top">#3 </td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top">:</td> 
                                    <td>command differ from the previous block (only Series 30i, 0i-D/F, PMi-A)</td>    </tr>
                                 
                                 <tr> 
                                    <td valign="top">#4 </td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top">:</td> 
                                    <td>There is a command of a decimal point.   </td> </tr>
                                 
                                 <tr> 
                                    <td valign="top">#5 </td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top">:</td> 
                                    <td>Negative                                 </td> </tr>
                                 
                                 <tr> 
                                    <td valign="top">#6 </td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top">:</td> 
                                    <td>1 digit                                  </td> </tr>
                                 
                                 <tr> 
                                    <td valign="top">#11</td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top">:</td> 
                                    <td>There is a command after RESET.          </td> </tr>
                                 
                                 <tr> 
                                    <td valign="top">#15</td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top">:</td> 
                                    <td>There is a command in the present block. </td> </tr>
                                 </table>
                              </ul>
                           
                           <dt>cmd_val</dt>
                           
                           <dd>The commanded data is stored.</dd>
                           
                           <dt>dec_val</dt>
                           
                           <dd>The number of places of decimals of commanded data is stored.</dd>
                           <p></p>
                           
                           <dd>The commanded data is calculated by the following expression.</dd>
                           
                           <dd>&nbsp;&nbsp;&nbsp;Commanded data = cmd_val * 10 ** (-dec_val)</dd>
                           <p></p>
                           
                           <dd>(Example) The following data are read when "F1000.0" is commanded.</dd>
                           
                           <ul>
                              
                              <table class="dd">
                                 
                                 <tr> 
                                    <td>adrs   </td>    
                                    <td>=</td>    
                                    <td>F (=70)</td>    </tr>
                                 
                                 <tr> 
                                    <td>cmd_val</td>    
                                    <td>=</td>    
                                    <td>10000  </td>    </tr>
                                 
                                 <tr> 
                                    <td>dec_val</td>    
                                    <td>=</td>    
                                    <td>1      </td>    </tr>
                                 </table>
                              </ul>
                           </dl>
                        <br>
                        </div>
                     
                     
                     <li type="square">Reading all data at a time<br></li>
                     
                     <div>
                        Specify the number of modal data to be read for "num_cmd". Specify -1 for "type".
                        Specify the block to be read for "block". Then all modal data except G code in the
                        objective block specified by "block" is set in the ODBCMD structure.Specify the number
                        in the following table for "num_cmd" in order to read all modal data. The number of
                        modal data which were read actually is stored in "num_cmd" after the function call.
                        
                        <p></p>
                        
                        Some same M codes may be read at a time with "multiple M commands in a single block".
                        
                        
                        <table class="dd" border="1" frame="hsides" rules="groups">
                           
                           <colgroup>
                              
                              <colgroup>
                                 
                                 <colgroup>
                                    
                                    <thead>
                                       
                                       <tr> 
                                          <th></th> 
                                          <th>With "2nd auxiliary function"</th>    
                                          <th>Without "2nd auxiliary function"</th>    </tr>
                                       </thead>
                                    
                                    <tbody>
                                       
                                       <tr> 
                                          <td>With "multiple M commands in a single block"   </td>    
                                          <td>15</td>    
                                          <td>14</td>    </tr>
                                       
                                       <tr> 
                                          <td>Without "multiple M commands in a single block"</td>    
                                          <td>11</td>    
                                          <td>10</td>    </tr>
                                       </tbody>
                                    </colgroup>
                                 </colgroup>
                              </colgroup>
                           </table>
                        </div>
                     </ul>
                  
                  
                  <p class="label">(2) Reading commanded data</p>
                  
                  <ul>
                     
                     <li type="square">Reading data one by one<br></li>
                     
                     <div>
                        
                        <p>Specify 1 for "num_cmd". Specify the commanded address in the following table for
                           "type". Specify the block to be read for "block". Then commanded data which is commanded
                           in the objective block specified by "block" is set in the ODBCMD structure. When no
                           data is commanded in the objective block specified by "block", zero is set in "num_cmd".</p>
                        
                        <table border="1" rules="groups">
                           
                           <colgroup>
                              
                              <colgroup>
                                 
                                 <colgroup>
                                    
                                    <colgroup>
                                       
                                       <thead>
                                          
                                          <tr> 
                                             <th>type</th>    
                                             <th>commanded address</th>        
                                             <th>type</th>    
                                             <th>commanded address</th>    </tr>
                                          </thead>
                                       
                                       <tbody>
                                          
                                          <tr> 
                                             <td>100</td>        
                                             <td>A</td>                    
                                             <td>115</td>        
                                             <td>P</td>                </tr>
                                          
                                          <tr> 
                                             <td>101</td>        
                                             <td>B</td>                    
                                             <td>116</td>        
                                             <td>Q</td>                </tr>
                                          
                                          <tr> 
                                             <td>102</td>        
                                             <td>C</td>                    
                                             <td>117</td>        
                                             <td>R</td>                </tr>
                                          
                                          <tr> 
                                             <td>103</td>        
                                             <td>D</td>                    
                                             <td>118</td>        
                                             <td>S</td>                </tr>
                                          
                                          <tr> 
                                             <td>104</td>        
                                             <td>E</td>                    
                                             <td>119</td>        
                                             <td>T</td>                </tr>
                                          
                                          <tr> 
                                             <td>105</td>        
                                             <td>F</td>                    
                                             <td>120</td>        
                                             <td>U</td>                </tr>
                                          
                                          <tr> 
                                             <td>106</td>        
                                             <td>G (not used)</td>        
                                             <td>121</td>        
                                             <td>V</td>                </tr>
                                          
                                          <tr> 
                                             <td>107</td>        
                                             <td>H</td>                    
                                             <td>122</td>        
                                             <td>W</td>                </tr>
                                          
                                          <tr> 
                                             <td>108</td>        
                                             <td>I</td>                    
                                             <td>123</td>        
                                             <td>X</td>                </tr>
                                          
                                          <tr> 
                                             <td>109</td>        
                                             <td>J</td>                    
                                             <td>124</td>        
                                             <td>Y</td>                </tr>
                                          
                                          <tr> 
                                             <td>110</td>        
                                             <td>K</td>                    
                                             <td>125</td>        
                                             <td>Z</td>                </tr>
                                          
                                          <tr> 
                                             <td>111</td>        
                                             <td>L</td>                    
                                             <td>126</td>        
                                             <td>M (2nd M code)</td>    </tr>
                                          
                                          <tr> 
                                             <td>112</td>        
                                             <td>M</td>                    
                                             <td>127</td>        
                                             <td>M (3rd M code)</td>    </tr>
                                          
                                          <tr> 
                                             <td>113</td>        
                                             <td>N</td>                    
                                             <td>128</td>        
                                             <td>M (4th M code)</td>    </tr>
                                          
                                          <tr> 
                                             <td>114</td>        
                                             <td>O</td>                    
                                             <td>129</td>        
                                             <td>M (5th M code)</td>    </tr>
                                          </tbody>
                                       </colgroup>
                                    </colgroup>
                                 </colgroup>
                              </colgroup>
                           </table>
                        
                        <p>The following data are set in the ODBCMD structure.</p>
                        
                        <dl>
                           
                           <dt>adrs</dt>
                           
                           <dd>The commanded address is stored in ASCII code.</dd>
                           
                           <dt>num</dt>
                           
                           <dd>The following values are stored when "adrs" is M (=77).</dd>
                           
                           <ul>
                              
                              <table class="dd">
                                 
                                 <tr> 
                                    <td valign="top">1</td>    
                                    <td valign="top">:</td>    
                                    <td>1st M code</td>    </tr>
                                 
                                 <tr> 
                                    <td valign="top">2</td>    
                                    <td valign="top">:</td>    
                                    <td>2nd M code</td>    </tr>
                                 
                                 <tr> 
                                    <td valign="top">3</td>    
                                    <td valign="top">:</td>    
                                    <td>3rd M code</td>    </tr>
                                 
                                 <tr> 
                                    <td valign="top">4</td>    
                                    <td valign="top">:</td>    
                                    <td>4th M code</td>    </tr>
                                 
                                 <tr> 
                                    <td valign="top">5</td>    
                                    <td valign="top">:</td>    
                                    <td>5th M code</td>    </tr>
                                 </table>
                              </ul>
                           
                           <dt>flag</dt>
                           
                           <dd>The following flags are stored.</dd>
                           
                           <ul>
                              
                              <table class="dd">
                                 
                                 <tr> 
                                    <td valign="top">#4 </td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top"></td>         
                                    <td valign="top">:</td> 
                                    <td>There is a command of a decimal point.</td> </tr>
                                 
                                 <tr> 
                                    <td valign="top">#5 </td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top"></td>         
                                    <td valign="top">:</td> 
                                    <td>Negative</td> </tr>
                                 
                                 <tr> 
                                    <td valign="top">#6 </td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top"></td>         
                                    <td valign="top">:</td> 
                                    <td>1 digit</td> </tr>
                                 
                                 <tr> 
                                    <td valign="top">#11</td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">(always)</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top">:</td> 
                                    <td>There is a command after RESET.</td> </tr>
                                 
                                 <tr> 
                                    <td valign="top">#15</td> 
                                    <td valign="top">=</td> 
                                    <td valign="top">(always)</td> 
                                    <td valign="top">1</td> 
                                    <td valign="top">:</td> 
                                    <td>There is a command in the present block.</td> </tr>
                                 </table>
                              </ul>
                           
                           <dt>cmd_val</dt>
                           
                           <dd>The commanded data is stored.</dd>
                           
                           <dt>dec_val</dt>
                           
                           <dd>The number of places of decimals of commanded data is stored.</dd>
                           <p></p>
                           
                           <ul>
                              
                              <div>
                                 The commanded data is calculated by the following expression.<br>
                                 &nbsp;&nbsp;&nbsp;Commanded data = cmd_val * 10 ** (-dec_val)
                                 
                                 <p></p>
                                 (Example) The following data are read when "X200.00" is commanded.<br>
                                 
                                 <table class="dd">
                                    
                                    <tr> 
                                       <td valign="top">adrs</td>     
                                       <td valign="top">=</td> 
                                       <td valign="top">X (=88)  </td>    </tr>
                                    
                                    <tr> 
                                       <td valign="top">cmd_val</td>  
                                       <td valign="top">=</td> 
                                       <td valign="top">20000    </td>    </tr>
                                    
                                    <tr> 
                                       <td valign="top">dec_val</td>  
                                       <td valign="top">=</td> 
                                       <td valign="top">2        </td>    </tr>
                                    </table>
                                 </div>
                              </ul>
                           </dl>
                        </div>
                     
                     <p></p>
                     
                     <li type="square">Reading all data at a time</li><br>
                     
                     <div>
                        Specify the number of commanded data to be read for "num_cmd". Specify -2 for "type".
                        Specify the block to be read for "block". Then all commanded data in the objective
                        block specified by "block" is set in the ODBCMD structure. Specify the number in the
                        following table for "num_cmd" in order to read all commanded data. The number of commanded
                        data which were read actually is stored in "num_cmd" after the function call. 
                        
                        <p></p>
                        <ul>
                           
                           <table class="dd">
                              
                              <tr> 
                                 <td>With "multiple M commands in a single block"   </td>    
                                 <td>:</td> 
                                 <td>29</td>    </tr>
                              
                              <tr> 
                                 <td>Without "multiple M commands in a single block"</td>    
                                 <td>:</td> 
                                 <td>25</td>    </tr>
                              </table>
                           </ul>
                        </div>
                     </ul>
                  
                  <p class="label">(3) Reading commanded data concerning axis</p>
                  
                  <ul>
                     
                     <li type="square">Reading data one by one</li><br>
                     
                     <ul>
                        
                        <div>
                           Specify <b>1</b> for "num_cmd". Specify axis number (200 to 223) in the following table for "type".
                           Specify the block to be read for "block". Then commanded data concerning axis which
                           is commanded in the objective block specified by "block" is set in the ODBCMD structure.
                           When no axis is commanded in the objective block specified by "block", zero is set
                           in "num_cmd".
                           <p></p>
                           
                           <li type="disc">Series 15i</li>
                           
                           <table border="1" rules="groups">
                              
                              <colgroup>
                                 
                                 <colgroup>
                                    
                                    <thead>
                                       
                                       <tr> 
                                          <th>type</th>    
                                          <th>axis</th>        </tr>
                                       </thead>
                                    
                                    <tbody>
                                       
                                       <tr> 
                                          <td>200</td>                  
                                          <td>1st axis</td>         </tr>
                                       
                                       <tr> 
                                          <td>201</td>                  
                                          <td>2nd axis</td>         </tr>
                                       
                                       <tr> 
                                          <td>&nbsp;&nbsp;:</td>        
                                          <td>&nbsp;&nbsp;:</td>    </tr>
                                       
                                       <tr> 
                                          <td>209</td>                  
                                          <td>10th axis</td>        </tr>
                                       
                                       <tr> 
                                          <td>210</td>                  
                                          <td>11th axis</td>        </tr>
                                       
                                       <tr> 
                                          <td>&nbsp;&nbsp;:</td>        
                                          <td>&nbsp;&nbsp;:</td>    </tr>
                                       
                                       <tr> 
                                          <td>222</td>                  
                                          <td>23th axis</td>        </tr>
                                       
                                       <tr> 
                                          <td>223</td>                  
                                          <td>24th axis</td>        </tr>
                                       </tbody>
                                    </colgroup>
                                 </colgroup>
                              </table>
                           * When MAX_AXIS=15, type=215,..,223 are not used.<br>
                           * When MAX_AXIS=10, type=210,..,223 are not used.
                           <p></p>
                           
                           <li type="disc">Series 30i, 0i-D/F, PMi-A</li>
                           
                           <table border="1" rules="groups">
                              
                              <colgroup>
                                 
                                 <colgroup>
                                    
                                    <thead>
                                       
                                       <tr> 
                                          <th>type</th>    
                                          <th>axis</th>        </tr>
                                       </thead>
                                    
                                    <tbody>
                                       
                                       <tr> 
                                          <td>200</td>                  
                                          <td>1st axis</td>            </tr>
                                       
                                       <tr> 
                                          <td>201</td>                  
                                          <td>2nd axis</td>            </tr>
                                       
                                       <tr> 
                                          <td>&nbsp;&nbsp;:</td>        
                                          <td>&nbsp;&nbsp;:</td>    </tr>
                                       
                                       <tr> 
                                          <td>209</td>                  
                                          <td>10th axis</td>           </tr>
                                       
                                       <tr> 
                                          <td>210</td>                  
                                          <td>11th axis</td>           </tr>
                                       
                                       <tr> 
                                          <td>&nbsp;&nbsp;:</td>        
                                          <td>&nbsp;&nbsp;:</td>    </tr>
                                       
                                       <tr> 
                                          <td>230</td>                  
                                          <td>31th axis</td>           </tr>
                                       
                                       <tr> 
                                          <td>231</td>                  
                                          <td>32th axis</td>           </tr>
                                       </tbody>
                                    </colgroup>
                                 </colgroup>
                              </table>
                           
                           <p>The following data are set in the ODBCMD structure.</p>
                           
                           <dl>
                              
                              <dt>adrs</dt>
                              
                              <dd>The commanded address is stored in ASCII code.</dd>
                              
                              <dt>num</dt>
                              
                              <dd>The axis number (1 to max. controlled axes) is stored in binary.</dd>
                              
                              <dt>flag</dt>
                              
                              <dd>The following flags are stored.</dd>
                              
                              <ul>
                                 
                                 <table class="dd">
                                    
                                    <tr> 
                                       <td valign="top">#4 </td> 
                                       <td valign="top">=</td> 
                                       <td valign="top">1</td> 
                                       <td valign="top"></td>            
                                       <td valign="top">:</td> 
                                       <td>There is a command of a decimal point.</td>    </tr>
                                    
                                    <tr> 
                                       <td valign="top">#5 </td> 
                                       <td valign="top">=</td> 
                                       <td valign="top">1</td> 
                                       <td valign="top"></td>            
                                       <td valign="top">:</td> 
                                       <td>Negative</td>    </tr>
                                    
                                    <tr> 
                                       <td valign="top">#6 </td> 
                                       <td valign="top">=</td> 
                                       <td valign="top">1</td> 
                                       <td valign="top"></td>            
                                       <td valign="top">:</td> 
                                       <td>1 digit </td>    </tr>
                                    
                                    <tr> 
                                       <td valign="top">#11</td> 
                                       <td valign="top">=</td> 
                                       <td valign="top">(always)</td> 
                                       <td valign="top">1</td>    
                                       <td valign="top">:</td> 
                                       <td>There is a command after RESET. </td>            </tr>
                                    
                                    <tr> 
                                       <td valign="top">#15</td> 
                                       <td valign="top">=</td> 
                                       <td valign="top">(always)</td> 
                                       <td valign="top">1</td>    
                                       <td valign="top">:</td> 
                                       <td>There is a command in the present block.</td>    </tr>
                                    </table>
                                 </ul>
                              
                              <dt>cmd_val</dt>
                              
                              <dd>The commanded data is stored.</dd>
                              
                              <dt>dec_val</dt>
                              
                              <dd>The number of places of decimals of commanded data is stored.</dd>
                              <p></p>
                              
                              <div>
                                 
                                 <dd>The commanded data is calculated by the following expression.</dd>
                                 
                                 <dd>&nbsp;&nbsp;&nbsp;Commanded data = cmd_val * 10 ** (-dec_val)</dd>
                                 
                                 <dd>
                                    <p></p>(Example) The following data are read when 2nd axis is "Y" and "Y50.0" is commanded.</dd>
                                 
                                 <ul>
                                    
                                    <table class="dd">
                                       
                                       <tr> 
                                          <td valign="top">adrs</td>       
                                          <td valign="top">=</td>    
                                          <td valign="top">Y (=89)</td>    </tr>
                                       
                                       <tr> 
                                          <td valign="top">num</td>        
                                          <td valign="top">=</td>    
                                          <td valign="top">2</td>        </tr>
                                       
                                       <tr> 
                                          <td valign="top">cmd_val</td>    
                                          <td valign="top">=</td>    
                                          <td valign="top">500</td>        </tr>
                                       
                                       <tr> 
                                          <td valign="top">dec_val</td>    
                                          <td valign="top">=</td>    
                                          <td valign="top">1</td>        </tr>
                                       </table>
                                    </ul>
                                 </div>
                              </dl>
                           
                           <p></p>
                           </div>
                        
                        </ul>
                     
                     <li type="square">Reading all data at a time</li><br>
                     
                     <ul>
                        
                        <div>
                           
                           <p></p>Specify the number of commanded data concerning axis to be read for "num_cmd". Specify
                           -3 for "type". Specify the block to be read for "block". Then all commanded data concerning
                           axis in the objective block specified by "block" is set in the ODBCMD structure. Specify
                           the following values for "num_cmd" in order to read all commanded data concerning
                           axis. The number of commanded data which were read actually is stored in "num_cmd"
                           after the function call. 
                           
                           <table class="dd">
                              
                              <tr> 
                                 <td>MAX_AXIS = 25 to 32</td>    
                                 <td>:</td> 
                                 <td>25 to 32(only Series 30i, 0i-D/F, PMi-A)</td>    </tr>
                              </table>
                           
                           <table class="dd">
                              
                              <tr> 
                                 <td>MAX_AXIS = 24</td>    
                                 <td>:</td> 
                                 <td>24</td>    </tr>
                              
                              <tr> 
                                 <td>MAX_AXIS = 15</td>    
                                 <td>:</td> 
                                 <td>15</td>    </tr>
                              
                              <tr> 
                                 <td>MAX_AXIS = 10</td>    
                                 <td>:</td> 
                                 <td>10</td>    </tr>
                              </table>
                           </div>
                        </ul>
                     
                     
                     
                     </ul>
                  
                  </content>
            </div><a name="Return"></a><p class="label">Return</p>
            <p>EW_OK is returned on successful completion, otherwise any value except EW_OK is returned.</p>
            <p>The major error codes are as follows.</p>
            <table border="1">
               <colgroup align="center" valign="top"></colgroup>
               <colgroup align="left" valign="top"></colgroup>
               <colgroup align="left" valign="top"></colgroup>
               <tr>
                  <th>Return code</th>
                  <th>Meaning/Error handling</th>
               </tr>
               <tr>
                  <td>
                     <name>EW_LENGTH</name><br>(2)</td>
                  <td>
                     <content>Data block length error<br>The number of G code data to be read (num_cmd) is wrong.</content>
                  </td>
               </tr>
               <tr>
                  <td>
                     <name>EW_NUMBER</name><br>(3)</td>
                  <td>
                     <content>Data number error<br>The specification of commanded data (type) is wrong.</content>
                  </td>
               </tr>
               <tr>
                  <td>
                     <name>EW_ATTRIB</name><br>(4)</td>
                  <td>
                     <content>Data attribute error<br>The specification of block (block) is wrong.</content>
                  </td>
               </tr>
            </table>
            <p>
               <add></add>
            </p>
            <p>
               As for the other return codes or the details, see 
               
               
               "<a href="errcode.htm" target="_parent">Return status of Data window function</a>"
               
               </p><a name="CNC option"></a><p class="label">CNC option</p>
            <p></p>
            <p>For HSSB connection,</p>
            <ul>
               <p>
                  <hssb>The extended driver/library function is necessary.</hssb>
               </p>
            </ul>
            <p>For Ethernet connection,</p>
            <ul>
               <p>
                  <ethr>
                     <p>The Ethernet function and the extended driver/library function are necessary.</p>
                     
                     <p>However, in case of Series 0i-D/F, Series 30i and PMi-A, the required CNC option is
                        as follows.</p>
                     
                     <p>When Embedded Ethernet is used,</p>
                     
                     <p>
                        <ul>above two optional functions are not required.</ul>
                     </p>
                     
                     <p>When Ethernet board is used,</p>
                     
                     <p>
                        <ul>only Ethernet function is required.</ul>
                     </p>
                     </ethr>
               </p>
            </ul>
            <p></p><a name="CNC parameter"></a><p class="label">CNC parameter</p>
            <p>This function is related to the following CNC parameter.<br>
               See the manual of CNC parameter for details.</p>
            <p>
               <type>
                  
                  <ul>
                     
                     <li>Series 15i</li>
                     1030 (influenced by setting)
                     </ul>
                  </type>
            </p>
            <p></p><a name="CNC mode"></a><p class="label">CNC mode</p>
            <p>This function can be used in any CNC mode.</p><a name="Available CNC"></a><p class="label">Available CNC</p>
            <table border="1">
               <colgroup width="100em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <tr>
                  <th></th>
                  <th>0i-A</th>
                  <th>0i-B/C(Note)</th>
                  <th>0i-D</th>
                  <th>0i-F</th>
                  <th>15</th>
                  <th>15i</th>
                  <th>16</th>
                  <th>18</th>
                  <th>21</th>
                  <th>16i-A</th>
                  <th>18i-A</th>
                  <th>21i-A</th>
                  <th>16i-B</th>
                  <th>18i-B</th>
                  <th>21i-B</th>
                  <th>30i-A</th>
                  <th>30i-B</th>
               </tr>
               <tr>
                  <td>M (Machining)</td>
                  <td class="">
                     <fs0ia>X</fs0ia>
                  </td>
                  <td class="">
                     <fs0ib>X</fs0ib>
                  </td>
                  <td class="support">
                     <fs0id>O</fs0id>
                  </td>
                  <td class="support">
                     <fs0if>O</fs0if>
                  </td>
                  <td class="">
                     <fs15>X</fs15>
                  </td>
                  <td class="support">
                     <fs15i>O</fs15i>
                  </td>
                  <td class="">
                     <fs16>X</fs16>
                  </td>
                  <td class="">
                     <fs18>X</fs18>
                  </td>
                  <td class="">
                     <fs21>X</fs21>
                  </td>
                  <td class="">
                     <fs16ia>X</fs16ia>
                  </td>
                  <td class="">
                     <fs18ia>X</fs18ia>
                  </td>
                  <td class="">
                     <fs21ia>X</fs21ia>
                  </td>
                  <td class="">
                     <fs16ib>X</fs16ib>
                  </td>
                  <td class="">
                     <fs18ib>X</fs18ib>
                  </td>
                  <td class="">
                     <fs21ib>X</fs21ib>
                  </td>
                  <td class="support">
                     <fs30ia>O</fs30ia>
                  </td>
                  <td class="support">
                     <fs30ib>O</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>T (Turning)  </td>
                  <td class="">
                     <fs0ia>X</fs0ia>
                  </td>
                  <td class="">
                     <fs0ib>X</fs0ib>
                  </td>
                  <td class="support">
                     <fs0id>O</fs0id>
                  </td>
                  <td class="support">
                     <fs0if>O</fs0if>
                  </td>
                  <td class="">
                     <fs15>X</fs15>
                  </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs16>X</fs16>
                  </td>
                  <td class="">
                     <fs18>X</fs18>
                  </td>
                  <td class="">
                     <fs21>X</fs21>
                  </td>
                  <td class="">
                     <fs16ia>X</fs16ia>
                  </td>
                  <td class="">
                     <fs18ia>X</fs18ia>
                  </td>
                  <td class="">
                     <fs21ia>X</fs21ia>
                  </td>
                  <td class="">
                     <fs16ib>X</fs16ib>
                  </td>
                  <td class="">
                     <fs18ib>X</fs18ib>
                  </td>
                  <td class="">
                     <fs21ib>X</fs21ib>
                  </td>
                  <td class="support">
                     <fs30ia>O</fs30ia>
                  </td>
                  <td class="support">
                     <fs30ib>O</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>LC (Loader)  </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs16>X</fs16>
                  </td>
                  <td class="">
                     <fs18>X</fs18>
                  </td>
                  <td class="">
                     <fs21>X</fs21>
                  </td>
                  <td class="">
                     <fs16ia>X</fs16ia>
                  </td>
                  <td class="">
                     <fs18ia>X</fs18ia>
                  </td>
                  <td class="">
                     <fs21ia>X</fs21ia>
                  </td>
                  <td class="">
                     <fs16ib>X</fs16ib>
                  </td>
                  <td class="">
                     <fs18ib>X</fs18ib>
                  </td>
                  <td class="">
                     <fs21ib>X</fs21ib>
                  </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
               </tr>
            </table>
            <p></p>
            <table border="1">
               <colgroup width="100em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <tr>
                  <th></th>
                  <th>0i-D</th>
                  <th>0i-F</th>
                  <th>16i</th>
                  <th>18i</th>
                  <th>30i-A</th>
                  <th>30i-B</th>
               </tr>
               <tr>
                  <td>P (Punch press)</td>
                  <td class="support">
                     <fs0id>O</fs0id>
                  </td>
                  <td class="support">
                     <fs0if>O</fs0if>
                  </td>
                  <td class="">
                     <fs16i>X</fs16i>
                  </td>
                  <td class="">
                     <fs18i>X</fs18i>
                  </td>
                  <td>
                     -
                     </td>
                  <td class="support">
                     <fs30ib>O</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>L (Laser)      </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs16i>X</fs16i>
                  </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="support">
                     <fs30ib>O</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>W (Wire)       </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs16i>X</fs16i>
                  </td>
                  <td class="">
                     <fs18i>X</fs18i>
                  </td>
                  <td class="support">
                     <fs30ia>O</fs30ia>
                  </td>
                  <td class="support">
                     <fs30ib>O</fs30ib>
                  </td>
               </tr>
            </table>
            <p></p><br><table border="1">
               <colgroup width="100em"></colgroup>
               <colgroup align="center" width="86em"></colgroup>
               <colgroup align="center" width="86em"></colgroup>
               <tr>
                  <td>Power Mate i-D</td>
                  <td class="">
                     <d>X</d>
                  </td>
               </tr>
               <tr>
                  <td>Power Mate i-H</td>
                  <td class="">
                     <h>X</h>
                  </td>
               </tr>
               <tr>
                  <td>Power Motion i-A</td>
                  <td class="support"><a>O</a></td>
               </tr>
            </table>
            <p></p>
            <table class="dd">
               <tr>
                  <td></td>
                  <td>"O"</td>
                  <td>:</td>
                  <td>Both Ethernet and HSSB</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"E"</td>
                  <td>:</td>
                  <td>Ethernet</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"H"</td>
                  <td>:</td>
                  <td>HSSB</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"X"</td>
                  <td>:</td>
                  <td>Cannot be used</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"-"</td>
                  <td>:</td>
                  <td>None</td>
               </tr>
            </table>
            <p style="background-color:mistyrose;">Note) 0i-C does not support the HSSB function.</p>
            <p>
               <add><b></b></add>
            </p><a name="Reference"></a><p class="label">See Also</p>
            <p><a class="func" target="_parent" href="Misc/cnc_modal.htm">cnc_modal</a>&nbsp;&nbsp;
               <a class="func" target="_parent" href="Misc/cnc_rdgcode.htm">cnc_rdgcode</a>&nbsp;&nbsp;
               </p><a name="Example"></a></div></FONT><hr>
   </body>
</html>