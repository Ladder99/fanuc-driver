<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:bop2="http://www.fanuc.co.jp/develop/mmc/bop2">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>cnc_wrpscdedge</title>
      <link rel="stylesheet" type="text/css" href="../fwlib32.css">
   </head>
   <body bgcolor="#FFFFFF"><FONT face="Verdana,Arial,Helvetica,sans-serif"><a name="Function Name"></a><p class="ftitle">cnc_wrpscdedge</p>
         <div class="text"><a name="Declaration"></a><p class="label">Declaration</p>
            <div class="mth">#include "fwlib32.h" or "fwlib64.h"
               <p></p>
               <prottype>FWLIBAPI short WINAPI cnc_wrpscdedge(unsigned short FlibHndl,short s_no, short *number,
                  IODBEDGE *edge); </prottype>
            </div><a name="Description"></a><p class="label">Description</p>
            <cmn>
               
               <p> Writes the edge cutting data of the cutting condition file.
                  </p>
               </cmn><a name="Arguments"></a><p class="label">Arguments</p>
            <div class="dtarg">
               <name>FlibHndl</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Specify the library handle. See "<a href="handle.htm" target="_parent">Library handle</a>" for details.
                     </p>
                  </content>
            </div>
            <div class="dtarg">
               <name>s_no</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Specify the start edge cutting data group number.
                     
                     <table border="0" class="dd">
                        
                        <tr> 
                           <td>201 to 205</td>
                           <td>:</td>
                           <td>  edge cutting data group number</td>   </tr>
                        </table>
                     </p>
                  </content>
            </div>
            <div class="dtarg">
               <name>number</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in/out</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Pointer to the number of edge cutting data. Specify the number of edge cutting data
                     to be written before
                     function call, and the number of edge cutting data being written actually is stored
                     after the function call.
                     </p>
                  </content>
            </div>
            <div class="dtarg">
               <name>edge</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Pointer to the IODBEDGE structure including the edge cutting data of the cutting condition
                     file.
                     The IODBEDGE structure is as follows.
                     </p>
                  
                  <pre>
typedef struct iodbedge {
    short   slct;       /* Flag of data selection */
    short   angle;      /* Judge angle for edge */
    short   power;      /* Piercing power */
    short   freq;       /* Piercing frequency */
    short   duty;       /* Piercing duty */
    long    pier_t;     /* Piercing time */
    short   g_press;    /* Piercing gas press */
    short   g_kind;     /* Piercing gas select */
    long    r_len;      /* Recovery distance */
    short   r_feed;     /* Recovery feedrate */
    short   r_freq;     /* Recovery frequency */
    short   r_duty;     /* Recovery duty */
    short   gap;        /* Deflection/gap */
    short   reserve[4]; /* (reserve) */
} IODBEDGE ;
</pre>
                  
                  <dl>
                     
                     <dt>slct</dt>
                     
                     <dd>Flag of data selection must be set.</dd>
                     
                     <dd>
                        <table border="0" class="dd">
                           
                           <tr> 
                              <td>bit 0</td>
                              <td>:</td>
                              <td>Judge angle for edge</td> </tr>
                           
                           <tr> 
                              <td>bit 1</td>
                              <td>:</td>
                              <td>Piercing power</td> </tr>
                           
                           <tr> 
                              <td>bit 2</td>
                              <td>:</td>
                              <td>Piercing frequency</td> </tr>
                           
                           <tr> 
                              <td>bit 3</td>
                              <td>:</td>
                              <td>Piercing duty</td> </tr>
                           
                           <tr> 
                              <td>bit 4</td>
                              <td>:</td>
                              <td>Piercing time</td> </tr>
                           
                           <tr> 
                              <td>bit 5</td>
                              <td>:</td>
                              <td>Piercing gas press</td> </tr>
                           
                           <tr> 
                              <td>bit 6</td>
                              <td>:</td>
                              <td>Piercing gas select</td> </tr>
                           
                           <tr> 
                              <td>bit 7</td>
                              <td>:</td>
                              <td>Recovery distance</td> </tr>
                           
                           <tr> 
                              <td>bit 8</td>
                              <td>:</td>
                              <td>Recovery feedrate</td> </tr>
                           
                           <tr> 
                              <td>bit 9</td>
                              <td>:</td>
                              <td>Recovery frequency</td> </tr>
                           
                           <tr> 
                              <td>bit10</td>
                              <td>:</td>
                              <td>Recovery duty</td> </tr>
                           
                           <tr> 
                              <td>bit11</td>
                              <td>:</td>
                              <td>Deflection/gap</td> </tr>
                           
                           <tr> 
                              <td>bit12,..,15</td>
                              <td>:</td>
                              <td>(reserve)</td> </tr>
                           </table>
                     </dd>
                     
                     <dd>* In order to write the data to CNC, turn on the corresponding bit on this data.</dd>
                     
                     <dt>angle</dt>
                     
                     <dd>Specify judge angle for edge.</dd>
                     
                     <dd>(Setting range: 0 to 180, Unit: degree)</dd>
                     
                     <dt>power</dt>
                     
                     <dd>Specify piercing power (peak value).</dd>
                     
                     <dd>(Setting range: 0 to 9999, Unit: W)</dd>
                     
                     <dt>freq</dt>
                     
                     <dd>Specify piercing frequency.</dd>
                     
                     <dd>(Setting range: 5 to 2000, Unit: Hz)</dd>
                     
                     <dt>duty</dt>
                     
                     <dd>Specify piercing duty.</dd>
                     
                     <dd>(Setting range: 0 to 100, Unit: %)</dd>
                     
                     <dt>pier_t</dt>
                     
                     <dd>Specify piercing time.</dd>
                     
                     <dd>(Setting range: 0 to 999999, Unit: 0.001sec.)</dd>
                     
                     <dt>g_press</dt>
                     
                     <dd>Specify piercing gas press(assist gas pressure)</dd>
                     
                     <dd>(Setting range: 0 to 255, Unit: 0.1Kg/cm2)</dd>
                     
                     <dt>g_kind</dt>
                     
                     <dd>Specify piercing gas select(kind of assist gas)</dd>
                     
                     <dd>(Setting range: 1 to 7, Unit: kind)</dd>
                     
                     <dt>r_len</dt>
                     
                     <dd>Specify recovery distance.</dd>
                     
                     <dd>(Setting range: 0 to 99999, Unit: 0.001mm)</dd>
                     
                     <dt>r_feed</dt>
                     
                     <dd>Specify recovery feedrate.</dd>
                     
                     <dd>(Setting range: 0 to 9999, Unit: mm/min)</dd>
                     
                     <dt>r_freq</dt>
                     
                     <dd>Specify recovery frequency.</dd>
                     
                     <dd>(Setting range: 5 to 2000, Unit: Hz)</dd>
                     
                     <dt>r_duty</dt>
                     
                     <dd>Specify recovery duty.</dd>
                     
                     <dd>(Setting range: 0 to 100, Unit: %)</dd>
                     
                     <dt>gap</dt>
                     
                     <dd>Specify deflection/gap.</dd>
                     
                     <dd>(Setting range: -32767 to 32767)</dd>
                     
                     <dt>reserve</dt>
                     
                     <dd>(reserve)</dd>
                     </dl>
                  </content>
            </div><a name="Return"></a><p class="label">Return</p>
            <p>EW_OK is returned on successful completion, otherwise any value except EW_OK is returned.</p>
            <p>The major error codes are as follows.</p>
            <table border="1">
               <colgroup align="center" valign="top"></colgroup>
               <colgroup align="left" valign="top"></colgroup>
               <colgroup align="left" valign="top"></colgroup>
               <tr>
                  <th>Return code</th>
                  <th>Meaning/Error handling</th>
               </tr>
               <tr>
                  <td>
                     <name>EW_FUNC</name><br>(1)</td>
                  <td>
                     <content>
                        Unavailable<br>
                        This function cannot be used except 16i/18i-L.
                        </content>
                  </td>
               </tr>
               <tr>
                  <td>
                     <name>EW_LENGTH</name><br>(2)</td>
                  <td>
                     <content>
                        Data block length error<br>
                        Number of data(number) is wrong.
                        </content>
                  </td>
               </tr>
               <tr>
                  <td>
                     <name>EW_NUMBER</name><br>(3)</td>
                  <td>
                     <content>
                        Data number error<br>
                        Start number(s_no) is wrong.
                        </content>
                  </td>
               </tr>
               <tr>
                  <td>
                     <name>EW_DATA</name><br>(5)</td>
                  <td>
                     <content>
                        Data error<br>
                        The edge cutting data of the cutting condition file is wrong.
                        In order to get more information for this err_no return value, 
                        execute <a href="Misc/cnc_getdtailerr.htm" target="_parent">cnc_getdtailerr</a> function.
                        The edge cutting data group number which an error occurred will be set onto the member
                        of
                        err_no of ODBERR structure, and the following detailed status will be set onto the
                        member of
                        err_dtno of ODBERR structure.
                        
                        <table border="0">
                           
                           <tr>
                              <td>1</td>
                              <td>:</td>
                              <td>Error of judge angle for edge</td>
                           </tr>
                           
                           <tr>
                              <td>2</td>
                              <td>:</td>
                              <td>Error of piercing power</td>
                           </tr>
                           
                           <tr>
                              <td>3</td>
                              <td>:</td>
                              <td>Error of piercing frequency</td>
                           </tr>
                           
                           <tr>
                              <td>4</td>
                              <td>:</td>
                              <td>Error of piercing duty</td>
                           </tr>
                           
                           <tr>
                              <td>5</td>
                              <td>:</td>
                              <td>Error of piercing time</td>
                           </tr>
                           
                           <tr>
                              <td>6</td>
                              <td>:</td>
                              <td>Error of piercing gas press</td>
                           </tr>
                           
                           <tr>
                              <td>7</td>
                              <td>:</td>
                              <td>Error of piercing gas select</td>
                           </tr>
                           
                           <tr>
                              <td>8</td>
                              <td>:</td>
                              <td>Error of recovery distance</td>
                           </tr>
                           
                           <tr>
                              <td>9</td>
                              <td>:</td>
                              <td>Error of recovery feedrate</td>
                           </tr>
                           
                           <tr>
                              <td>10</td>
                              <td>:</td>
                              <td>Error of recovery frequency</td>
                           </tr>
                           
                           <tr>
                              <td>11</td>
                              <td>:</td>
                              <td>Error of recovery duty</td>
                           </tr>
                           
                           <tr>
                              <td>12</td>
                              <td>:</td>
                              <td>Error of deflection/gap</td>
                           </tr>
                           </table>
                        </content>
                  </td>
               </tr>
               <tr>
                  <td>
                     <name>EW_NOOPT</name><br>(6)</td>
                  <td>
                     <content>
                        No option<br>
                        The cutting condition setting function, the edge cutting function and the extended
                        driver/library function are necessary.
                        </content>
                  </td>
               </tr>
            </table>
            <p></p>
            <p>
               As for the other return codes or the details, see 
               
               
               "<a href="errcode.htm" target="_parent">Return status of Data window function</a>"
               
               </p><a name="CNC option"></a><p class="label">CNC option</p>
            <p></p>
            <p>This function need the following CNC option.</p>
            <ul>
               <p>
                  <need>
                     
                     <li>The cutting condition setting function</li>
                     
                     <li>The edge cutting function</li>
                     </need>
               </p>
            </ul>
            <p>For HSSB connection,</p>
            <ul>
               <p>
                  <hssb>The extended driver/library function is necessary.</hssb>
               </p>
            </ul>
            <p>For Ethernet connection,</p>
            <ul>
               <p>
                  <ethr>
                     <p>The Ethernet function and the extended driver/library function are necessary.</p>
                     
                     <p>When Embedded Ethernet is used,</p>
                     
                     <p>
                        <ul>above two optional functions are not required.</ul>
                     </p>
                     
                     <p>When Ethernet board is used,</p>
                     
                     <p>
                        <ul>only Ethernet function is required.</ul>
                     </p>
                     </ethr>
               </p>
            </ul>
            <p></p><a name="CNC parameter"></a><p class="label">CNC parameter</p>
            <p>This function is not related to CNC parameter.</p><a name="CNC mode"></a><p class="label">CNC mode</p>
            <p>This function can be used in any CNC mode.</p><a name="Available CNC"></a><p class="label">Available CNC</p>
            <table border="1">
               <colgroup width="100em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <tr>
                  <th></th>
                  <th>0i-A</th>
                  <th>0i-B/C(Note)</th>
                  <th>0i-D</th>
                  <th>0i-F</th>
                  <th>15</th>
                  <th>15i</th>
                  <th>16</th>
                  <th>18</th>
                  <th>21</th>
                  <th>16i-A</th>
                  <th>18i-A</th>
                  <th>21i-A</th>
                  <th>16i-B</th>
                  <th>18i-B</th>
                  <th>21i-B</th>
                  <th>30i-A</th>
                  <th>30i-B</th>
               </tr>
               <tr>
                  <td>M (Machining)</td>
                  <td class="">
                     <fs0ia>-</fs0ia>
                  </td>
                  <td class="">
                     <fs0ib>-</fs0ib>
                  </td>
                  <td class="">
                     <fs0id>-</fs0id>
                  </td>
                  <td class="">
                     <fs0if>-</fs0if>
                  </td>
                  <td class="">
                     <fs15>-</fs15>
                  </td>
                  <td class="">
                     <fs15i>-</fs15i>
                  </td>
                  <td class="">
                     <fs16>-</fs16>
                  </td>
                  <td class="">
                     <fs18>-</fs18>
                  </td>
                  <td class="">
                     <fs21>-</fs21>
                  </td>
                  <td class="">
                     <fs16ia>-</fs16ia>
                  </td>
                  <td class="">
                     <fs18ia>-</fs18ia>
                  </td>
                  <td class="">
                     <fs21ia>-</fs21ia>
                  </td>
                  <td class="">
                     <fs16ib>-</fs16ib>
                  </td>
                  <td class="">
                     <fs18ib>-</fs18ib>
                  </td>
                  <td class="">
                     <fs21ib>-</fs21ib>
                  </td>
                  <td class="">
                     <fs30ia>-</fs30ia>
                  </td>
                  <td class="">
                     <fs30ib>-</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>T (Turning)  </td>
                  <td class="">
                     <fs0ia>-</fs0ia>
                  </td>
                  <td class="">
                     <fs0ib>-</fs0ib>
                  </td>
                  <td class="">
                     <fs0id>-</fs0id>
                  </td>
                  <td class="">
                     <fs0if>-</fs0if>
                  </td>
                  <td class="">
                     <fs15>-</fs15>
                  </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs16>-</fs16>
                  </td>
                  <td class="">
                     <fs18>-</fs18>
                  </td>
                  <td class="">
                     <fs21>-</fs21>
                  </td>
                  <td class="">
                     <fs16ia>-</fs16ia>
                  </td>
                  <td class="">
                     <fs18ia>-</fs18ia>
                  </td>
                  <td class="">
                     <fs21ia>-</fs21ia>
                  </td>
                  <td class="">
                     <fs16ib>-</fs16ib>
                  </td>
                  <td class="">
                     <fs18ib>-</fs18ib>
                  </td>
                  <td class="">
                     <fs21ib>-</fs21ib>
                  </td>
                  <td class="">
                     <fs30ia>-</fs30ia>
                  </td>
                  <td class="">
                     <fs30ib>-</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>LC (Loader)  </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs16>-</fs16>
                  </td>
                  <td class="">
                     <fs18>-</fs18>
                  </td>
                  <td class="">
                     <fs21>-</fs21>
                  </td>
                  <td class="">
                     <fs16ia>-</fs16ia>
                  </td>
                  <td class="">
                     <fs18ia>-</fs18ia>
                  </td>
                  <td class="">
                     <fs21ia>-</fs21ia>
                  </td>
                  <td class="">
                     <fs16ib>-</fs16ib>
                  </td>
                  <td class="">
                     <fs18ib>-</fs18ib>
                  </td>
                  <td class="">
                     <fs21ib>-</fs21ib>
                  </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
               </tr>
            </table>
            <p></p>
            <table border="1">
               <colgroup width="100em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <tr>
                  <th></th>
                  <th>0i-D</th>
                  <th>0i-F</th>
                  <th>16i</th>
                  <th>18i</th>
                  <th>30i-A</th>
                  <th>30i-B</th>
               </tr>
               <tr>
                  <td>P (Punch press)</td>
                  <td class="">
                     <fs0id>-</fs0id>
                  </td>
                  <td class="">
                     <fs0if>-</fs0if>
                  </td>
                  <td class="">
                     <fs16i>-</fs16i>
                  </td>
                  <td class="">
                     <fs18i>-</fs18i>
                  </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs30ib>-</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>L (Laser)      </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="support">
                     <fs16i>O</fs16i>
                  </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs30ib>X</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>W (Wire)       </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs16i>-</fs16i>
                  </td>
                  <td class="">
                     <fs18i>-</fs18i>
                  </td>
                  <td class="">
                     <fs30ia>-</fs30ia>
                  </td>
                  <td class="">
                     <fs30ib>-</fs30ib>
                  </td>
               </tr>
            </table>
            <p></p><br><table border="1">
               <colgroup width="100em"></colgroup>
               <colgroup align="center" width="86em"></colgroup>
               <colgroup align="center" width="86em"></colgroup>
               <tr>
                  <td>Power Mate i-D</td>
                  <td class="">
                     <d>-</d>
                  </td>
               </tr>
               <tr>
                  <td>Power Mate i-H</td>
                  <td class="">
                     <h>-</h>
                  </td>
               </tr>
               <tr>
                  <td>Power Motion i-A</td>
                  <td class=""><a>-</a></td>
               </tr>
            </table>
            <p></p>
            <table class="dd">
               <tr>
                  <td></td>
                  <td>"O"</td>
                  <td>:</td>
                  <td>Both Ethernet and HSSB</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"E"</td>
                  <td>:</td>
                  <td>Ethernet</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"H"</td>
                  <td>:</td>
                  <td>HSSB</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"X"</td>
                  <td>:</td>
                  <td>Cannot be used</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"-"</td>
                  <td>:</td>
                  <td>None</td>
               </tr>
            </table>
            <p style="background-color:mistyrose;">Note) 0i-C does not support the HSSB function.</p>
            <p></p><a name="Reference"></a><p class="label">See Also</p>
            <p><a class="func" target="_parent" href="Laser/cnc_rdpscdedge.htm">cnc_rdpscdedge</a>&nbsp;&nbsp;
               </p><a name="Example"></a></div></FONT><hr>
   </body>
</html>